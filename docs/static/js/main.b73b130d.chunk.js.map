{"version":3,"sources":["components/TargetForm.tsx","components/ContainerizedJumbotron.tsx","components/Home.tsx","components/TimetableLesson.tsx","utils/compat.bs.js","timetable/LessonTime.bs.js","timetable/Timetable.bs.js","timetable/Timetable.gen.tsx","components/TimetableDay.tsx","components/TimetableCarousel.tsx","components/TimetableColumns.tsx","components/QuickTargetChanger.tsx","components/TimetableJumbotron.tsx","components/TimetableTable.tsx","components/TimetablePage.tsx","components/Autocomplete.tsx","components/MainSwitch.tsx","components/Navigation.tsx","components/Page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["TargetForm","match","useRouteMatch","useState","params","target","setTarget","currentTarget","setCurrentTarget","isNeedRedirect","setIsNeedRedirect","useEffect","push","to","encodeURIComponent","Form","inline","onSubmit","event","preventDefault","Row","className","Col","Group","Control","placeholder","onChange","value","Button","type","ContainerizedJumbotron","children","Container","Jumbotron","Home","TimetableLesson","lesson","time","type_","subject","teacher","groups","map","group","idx","arr","Fragment","length","place","$$Promise$1","JsError","$$Promise","$$catch","then_","prim0","prim1","then","Curry","thenResolve","decode","json","Belt_Option","Js_json","decodeStringExn","obj","key","Js_dict","fromNumber","number","Pervasives","decodeExn","Belt_Int","Day","toNumber","day","toRu","toEn","all","fromNumber$1","n","decodeExn$1","Week","fromDate","date","getDate","month","getMonth","year","getFullYear","month$1","a","Js_math","y","m","Math","imul","j","d4","l","d1","decodeExn$2","week","param","$$Array","LessonTime","building","room","sync","raw_error","error","Caml_js_exceptions","console","Lesson","TAG","_0","timetable","institute","$$fetch$1","Compat","fetch","response","Timetable","$$fetch","fetchOpt","fetchExn","$$toJS607543633","$$toRE607543633","$$toJS668809359","TimetableBS","TimetableBS__Es6Import","Day_fromNumber","Arg1","result","Day_all","ArrayItem","Week_fromDate","TimetableDay","lessons","filter","ListGroup","Item","dateString","toLocaleString","Card","Header","Body","variant","TimetableCarousel","index","setIndex","today","Date","days","Array","from","x","i","elem","daydiff","date1","setDate","previous","current","next","xs","sm","onClick","disabled","getDay","TimetableColumns","Alert","QuickTargetChanger","onQuickTargetChange","TimetableJumbotron","isLoaded","spinner","Spinner","animation","role","changer","check","message","TimetableTable","setError","setTimetable","setIsLoaded","$promise","fluid","TimetablePage","useParams","Autocomplete","startWith","setStartWith","controlId","qwe","Text","AutocompleteResult","aut","setAut","headers","Accept","res","text","log","MainSwitch","path","Navigation","quickTargets","Navbar","bg","expand","Brand","Basename","slice","Toggle","Collapse","id","Nav","activeKey","decodeURIComponent","toLowerCase","Link","eventKey","Page","basename","App","localStorage","getItem","setItem","JSON","stringify","parse","setQuickTargets","qts","qt","t","toLocaleLowerCase","includes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b73b130d.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Redirect, useRouteMatch } from \"react-router-dom\";\r\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\r\n\r\nexport const TargetForm: React.FunctionComponent = () => {\r\n  const match = useRouteMatch<{ target: string }>(\"/:target\");\r\n  const [target, setTarget] = useState(match ? match?.params.target : \"\");\r\n  const [currentTarget, setCurrentTarget] = useState(target);\r\n  const [isNeedRedirect, setIsNeedRedirect] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsNeedRedirect(false);\r\n    return () => {};\r\n  }, [match]);\r\n\r\n  return (\r\n    <>\r\n      {isNeedRedirect ? (\r\n        <Redirect push to={\"/\" + encodeURIComponent(currentTarget)} />\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <Form\r\n        inline\r\n        onSubmit={(event) => {\r\n          event.preventDefault();\r\n          setIsNeedRedirect(true);\r\n          setCurrentTarget(target);\r\n        }}\r\n      >\r\n        <Row className=\"no-gutters\">\r\n          <Col>\r\n            <Form.Group>\r\n              <Form.Control\r\n                className=\"mr-sm-2\"\r\n                placeholder=\"Группа/преподаватель\"\r\n                onChange={(event) => setTarget(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Button type=\"submit\">Открыть</Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Container, Jumbotron } from \"react-bootstrap\";\r\n\r\nexport const ContainerizedJumbotron: FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  return (\r\n    <Container>\r\n      <Jumbotron>{children}</Jumbotron>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\n\r\nimport { TargetForm } from \"./TargetForm\";\r\nimport { ContainerizedJumbotron } from \"./ContainerizedJumbotron\";\r\n\r\nexport const Home: FC = () => {\r\n  return (\r\n    <ContainerizedJumbotron>\r\n      <h3>Введите группу или преподавателя: </h3>\r\n      <TargetForm />\r\n    </ContainerizedJumbotron>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nimport { Lesson_t } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableLesson: FC<{ lesson: Lesson_t }> = ({ lesson }) => {\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <p>{lesson.time}</p>\r\n        </Col>\r\n        <Col>\r\n          <p>{lesson.type_}</p>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <p>{lesson.subject}</p>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col>\r\n          <p>\r\n            {lesson.teacher ? (\r\n              <Link to={\"/\" + encodeURIComponent(lesson.teacher)}>\r\n                {lesson.teacher}\r\n              </Link>\r\n            ) : (\r\n              lesson.groups?.map((group, idx, arr) => (\r\n                <React.Fragment key={group}>\r\n                  <Link to={\"/\" + encodeURIComponent(group)}>{group}</Link>\r\n                  {idx !== arr.length - 1 ? <span>, </span> : <></>}\r\n                </React.Fragment>\r\n              ))\r\n            )}\r\n          </p>\r\n        </Col>\r\n        <Col>\r\n          <p>{lesson.place}</p>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Curry from \"rescript/lib/es6/curry.js\";\nimport * as $$Promise from \"@ryyppy/rescript-promise/src/Promise.bs.js\";\n\nfunction then_(prim0, prim1) {\n  return prim0.then(Curry.__1(prim1));\n}\n\nfunction thenResolve(prim0, prim1) {\n  return prim0.then(Curry.__1(prim1));\n}\n\nvar $$Promise$1 = {\n  JsError: $$Promise.JsError,\n  $$catch: $$Promise.$$catch,\n  then_: then_,\n  thenResolve: thenResolve\n};\n\nexport {\n  $$Promise$1 as $$Promise,\n  \n}\n/* No side effect */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as Js_json from \"rescript/lib/es6/js_json.js\";\nimport * as Belt_Option from \"rescript/lib/es6/belt_Option.js\";\n\nfunction decode(json) {\n  return Belt_Option.getExn(Js_json.decodeString(json));\n}\n\nexport {\n  decode ,\n  \n}\n/* No side effect */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n\nimport * as $$Array from \"rescript/lib/es6/array.js\";\nimport * as Compat from \"../utils/compat.bs.js\";\nimport * as Js_dict from \"rescript/lib/es6/js_dict.js\";\nimport * as Js_json from \"rescript/lib/es6/js_json.js\";\nimport * as Js_math from \"rescript/lib/es6/js_math.js\";\nimport * as Belt_Int from \"rescript/lib/es6/belt_Int.js\";\nimport * as LessonTime from \"./LessonTime.bs.js\";\nimport * as Pervasives from \"rescript/lib/es6/pervasives.js\";\nimport * as Belt_Option from \"rescript/lib/es6/belt_Option.js\";\nimport * as Caml_js_exceptions from \"rescript/lib/es6/caml_js_exceptions.js\";\n\nfunction decodeStringExn(obj, key) {\n  return Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, key), Js_json.decodeString));\n}\n\nfunction toNumber(day) {\n  return day + 1 | 0;\n}\n\nfunction fromNumber(number) {\n  switch (number) {\n    case 1 :\n        return /* Monday */0;\n    case 2 :\n        return /* Tuesday */1;\n    case 3 :\n        return /* Wednesday */2;\n    case 4 :\n        return /* Thursday */3;\n    case 5 :\n        return /* Friday */4;\n    case 6 :\n        return /* Saturday */5;\n    case 0 :\n    case 7 :\n        return /* Sunday */6;\n    default:\n      return Pervasives.failwith(\"No day of week\");\n  }\n}\n\nfunction decodeExn(json) {\n  return fromNumber(Belt_Option.getExn(Belt_Int.fromString(Belt_Option.getExn(Js_json.decodeString(json)))));\n}\n\nfunction toRu(day) {\n  switch (day) {\n    case /* Monday */0 :\n        return \"Понедельник\";\n    case /* Tuesday */1 :\n        return \"Вторник\";\n    case /* Wednesday */2 :\n        return \"Среда\";\n    case /* Thursday */3 :\n        return \"Четверг\";\n    case /* Friday */4 :\n        return \"Пятница\";\n    case /* Saturday */5 :\n        return \"Суббота\";\n    case /* Sunday */6 :\n        return \"Воскресенье\";\n    \n  }\n}\n\nfunction toEn(day) {\n  switch (day) {\n    case /* Monday */0 :\n        return \"Monday\";\n    case /* Tuesday */1 :\n        return \"Tuesday\";\n    case /* Wednesday */2 :\n        return \"Wednesday\";\n    case /* Thursday */3 :\n        return \"Thursday\";\n    case /* Friday */4 :\n        return \"Friday\";\n    case /* Saturday */5 :\n        return \"Saturday\";\n    case /* Sunday */6 :\n        return \"Sunday\";\n    \n  }\n}\n\nvar all = [\n  /* Monday */0,\n  /* Tuesday */1,\n  /* Wednesday */2,\n  /* Thursday */3,\n  /* Friday */4,\n  /* Saturday */5,\n  /* Sunday */6\n];\n\nvar Day = {\n  toNumber: toNumber,\n  fromNumber: fromNumber,\n  decodeExn: decodeExn,\n  toRu: toRu,\n  toEn: toEn,\n  all: all\n};\n\nfunction fromNumber$1(n) {\n  if (n !== 1) {\n    if (n !== 2) {\n      return Pervasives.failwith(\"\");\n    } else {\n      return /* Even */1;\n    }\n  } else {\n    return /* Uneven */0;\n  }\n}\n\nfunction decodeExn$1(json) {\n  return fromNumber$1(Belt_Option.getExn(Belt_Int.fromString(Belt_Option.getExn(Js_json.decodeString(json)))));\n}\n\nfunction fromDate(date) {\n  var day = date.getDate() | 0;\n  var month = date.getMonth() | 0;\n  var year = date.getFullYear() | 0;\n  var month$1 = month + 1 | 0;\n  var a = Js_math.floor((14 - month$1) / 12);\n  var y = (year + 4800 | 0) - a | 0;\n  var m = (month$1 + Math.imul(12, a) | 0) - 3 | 0;\n  var j = (((((day + Js_math.floor((153 * m + 2) / 5) | 0) + Math.imul(365, y) | 0) + Js_math.floor(y / 4) | 0) - Js_math.floor(y / 100) | 0) + Js_math.floor(y / 400) | 0) - 32045 | 0;\n  var d4 = ((j + 31741 | 0) - j % 7 | 0) % 146097 % 36524 % 1461;\n  var l = Js_math.floor(d4 / 1460);\n  var d1 = (d4 - l | 0) % 365 + l | 0;\n  var week = Js_math.floor(d1 / 7) + 1 | 0;\n  if (week % 2 === 0) {\n    return /* Even */1;\n  } else {\n    return /* Uneven */0;\n  }\n}\n\nvar Week = {\n  fromNumber: fromNumber$1,\n  decodeExn: decodeExn$1,\n  fromDate: fromDate\n};\n\nfunction decodeExn$2(json) {\n  try {\n    var obj = Belt_Option.getExn(Js_json.decodeObject(json));\n    var day = Belt_Option.getExn(Belt_Option.map(Js_dict.get(obj, \"day\"), decodeExn));\n    var week = Belt_Option.getExn(Belt_Option.map(Js_dict.get(obj, \"week\"), decodeExn$1));\n    var teacher = Belt_Option.flatMap(Js_dict.get(obj, \"teacher\"), Js_json.decodeString);\n    var groups = Belt_Option.map(Belt_Option.map(Belt_Option.flatMap(Js_dict.get(obj, \"groups\"), Js_json.decodeArray), (function (param) {\n                return $$Array.map(Js_json.decodeString, param);\n              })), (function (param) {\n            return $$Array.map(Belt_Option.getExn, param);\n          }));\n    return {\n            day: day,\n            week: week,\n            time: Belt_Option.getExn(Belt_Option.map(Js_dict.get(obj, \"time\"), LessonTime.decode)),\n            subject: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"subject\"), Js_json.decodeString)),\n            type_: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"type\"), Js_json.decodeString)),\n            teacher: teacher,\n            groups: groups,\n            place: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"place\"), Js_json.decodeString)),\n            building: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"building\"), Js_json.decodeString)),\n            room: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"room\"), Js_json.decodeString)),\n            sync: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"sync\"), Js_json.decodeString))\n          };\n  }\n  catch (raw_error){\n    var error = Caml_js_exceptions.internalToOCamlException(raw_error);\n    console.error(error);\n    return Pervasives.failwith(\"Failed to decode Lesson\");\n  }\n}\n\nvar Lesson = {\n  decodeExn: decodeExn$2\n};\n\nfunction decode(json) {\n  try {\n    var obj = Belt_Option.getExn(Js_json.decodeObject(json));\n    var timetable = Belt_Option.getExn(Belt_Option.map(Belt_Option.flatMap(Js_dict.get(obj, \"timetable\"), Js_json.decodeArray), (function (param) {\n                return $$Array.map(decodeExn$2, param);\n              })));\n    return {\n            TAG: /* Ok */0,\n            _0: {\n              timetable: timetable,\n              target: decodeStringExn(obj, \"target\"),\n              type_: Belt_Option.getExn(Belt_Option.flatMap(Js_dict.get(obj, \"type\"), Js_json.decodeString)),\n              institute: Belt_Option.flatMap(Js_dict.get(obj, \"institute\"), Js_json.decodeString)\n            }\n          };\n  }\n  catch (raw_error){\n    var error = Caml_js_exceptions.internalToOCamlException(raw_error);\n    console.error(error);\n    return {\n            TAG: /* Error */1,\n            _0: \"Failed to decode Timetable\"\n          };\n  }\n}\n\nfunction $$fetch$1(target) {\n  return Compat.$$Promise.thenResolve(Compat.$$Promise.then_(fetch(\"https://edu.sfu-kras.ru/api/timetable/get&target=\" + encodeURIComponent(target)), (function (response) {\n                    return response.json();\n                  })), decode);\n}\n\nfunction fetchOpt(target) {\n  return $$fetch$1(target).then(function (a) {\n              if (a.TAG === /* Ok */0) {\n                return a._0;\n              }\n              \n            });\n}\n\nfunction fetchExn(target) {\n  return $$fetch$1(target).then(function (a) {\n              if (a.TAG === /* Ok */0) {\n                return a._0;\n              } else {\n                return Pervasives.failwith(a._0);\n              }\n            });\n}\n\nvar Timetable = {\n  decode: decode,\n  $$fetch: $$fetch$1,\n  fetchOpt: fetchOpt,\n  fetchExn: fetchExn\n};\n\nvar $$Option;\n\nvar Result;\n\nvar Json;\n\nvar Dict;\n\nexport {\n  $$Option ,\n  Result ,\n  Json ,\n  Dict ,\n  decodeStringExn ,\n  Day ,\n  Week ,\n  Lesson ,\n  Timetable ,\n  \n}\n/* No side effect */\n","/* TypeScript file generated from Timetable.ml by genType. */\r\n/* eslint-disable import/first */\r\n\r\n\r\nconst $$toJS607543633: { [key: string]: any } = {\"0\": \"Monday\", \"1\": \"Tuesday\", \"2\": \"Wednesday\", \"3\": \"Thursday\", \"4\": \"Friday\", \"5\": \"Saturday\", \"6\": \"Sunday\"};\r\n\r\nconst $$toRE607543633: { [key: string]: any } = {\"Monday\": 0, \"Tuesday\": 1, \"Wednesday\": 2, \"Thursday\": 3, \"Friday\": 4, \"Saturday\": 5, \"Sunday\": 6};\r\n\r\nconst $$toJS668809359: { [key: string]: any } = {\"0\": \"Uneven\", \"1\": \"Even\"};\r\n\r\n// @ts-ignore: Implicit any on import\r\nimport * as TimetableBS__Es6Import from './Timetable.bs';\r\nconst TimetableBS: any = TimetableBS__Es6Import;\r\n\r\nimport type {t as LessonTime_t} from './LessonTime.gen';\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type Day_t = \r\n    \"Monday\"\r\n  | \"Tuesday\"\r\n  | \"Wednesday\"\r\n  | \"Thursday\"\r\n  | \"Friday\"\r\n  | \"Saturday\"\r\n  | \"Sunday\";\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type Day_en = \r\n    \"Monday\"\r\n  | \"Tuesday\"\r\n  | \"Wednesday\"\r\n  | \"Thursday\"\r\n  | \"Friday\"\r\n  | \"Saturday\"\r\n  | \"Sunday\";\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type Week_t = \"Uneven\" | \"Even\";\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type Lesson_t = {\r\n  readonly day: Day_t; \r\n  readonly week: Week_t; \r\n  readonly time: LessonTime_t; \r\n  readonly subject: string; \r\n  readonly type_: string; \r\n  readonly teacher?: string; \r\n  readonly groups?: string[]; \r\n  readonly place: string; \r\n  readonly building: string; \r\n  readonly room: string; \r\n  readonly sync: string\r\n};\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type Timetable_t = {\r\n  readonly timetable: Lesson_t[]; \r\n  readonly target: string; \r\n  readonly type_: \r\n    \"group\"\r\n  | \"teacher\"; \r\n  readonly institute?: string\r\n};\r\n\r\nexport const Day_toNumber: (day:Day_t) => number = function (Arg1: any) {\r\n  const result = TimetableBS.Day.toNumber($$toRE607543633[Arg1]);\r\n  return result\r\n};\r\n\r\nexport const Day_fromNumber: (number:number) => Day_t = function (Arg1: any) {\r\n  const result = TimetableBS.Day.fromNumber(Arg1);\r\n  return $$toJS607543633[result]\r\n};\r\n\r\nexport const Day_toRu: (day:Day_t) => string = function (Arg1: any) {\r\n  const result = TimetableBS.Day.toRu($$toRE607543633[Arg1]);\r\n  return result\r\n};\r\n\r\nexport const Day_toEn: (day:Day_t) => Day_en = function (Arg1: any) {\r\n  const result = TimetableBS.Day.toEn($$toRE607543633[Arg1]);\r\n  return result\r\n};\r\n\r\nexport const Day_all: Day_t[] = TimetableBS.Day.all.map(function _element(ArrayItem: any) { return $$toJS607543633[ArrayItem]});\r\n\r\nexport const Week_fromNumber: (n:number) => Week_t = function (Arg1: any) {\r\n  const result = TimetableBS.Week.fromNumber(Arg1);\r\n  return $$toJS668809359[result]\r\n};\r\n\r\nexport const Week_fromDate: (date:Date) => Week_t = function (Arg1: any) {\r\n  const result = TimetableBS.Week.fromDate(Arg1);\r\n  return $$toJS668809359[result]\r\n};\r\n\r\nexport const Timetable_fetch: (target:string) => Promise<\r\n    { tag: \"Ok\"; value: Timetable_t }\r\n  | { tag: \"Error\"; value: string }> = function (Arg1: any) {\r\n  const result = TimetableBS.Timetable.fetch(Arg1);\r\n  return result.then(function _element($promise: any) { return $promise.TAG===0\r\n    ? {tag:\"Ok\", value:{timetable:$promise._0.timetable.map(function _element(ArrayItem: any) { return {day:$$toJS607543633[ArrayItem.day], week:$$toJS668809359[ArrayItem.week], time:ArrayItem.time, subject:ArrayItem.subject, type_:ArrayItem.type_, teacher:ArrayItem.teacher, groups:ArrayItem.groups, place:ArrayItem.place, building:ArrayItem.building, room:ArrayItem.room, sync:ArrayItem.sync}}), target:$promise._0.target, type_:$promise._0.type_, institute:$promise._0.institute}}\r\n    : {tag:\"Error\", value:$promise._0}})\r\n};\r\n\r\nexport const Timetable_fetchOpt: (target:string) => Promise<(null | undefined | Timetable_t)> = function (Arg1: any) {\r\n  const result = TimetableBS.Timetable.fetchOpt(Arg1);\r\n  return result.then(function _element($promise: any) { return ($promise == null ? $promise : {timetable:$promise.timetable.map(function _element(ArrayItem: any) { return {day:$$toJS607543633[ArrayItem.day], week:$$toJS668809359[ArrayItem.week], time:ArrayItem.time, subject:ArrayItem.subject, type_:ArrayItem.type_, teacher:ArrayItem.teacher, groups:ArrayItem.groups, place:ArrayItem.place, building:ArrayItem.building, room:ArrayItem.room, sync:ArrayItem.sync}}), target:$promise.target, type_:$promise.type_, institute:$promise.institute})})\r\n};\r\n\r\nexport const Timetable_fetchExn: (target:string) => Promise<Timetable_t> = function (Arg1: any) {\r\n  const result = TimetableBS.Timetable.fetchExn(Arg1);\r\n  return result.then(function _element($promise: any) { return {timetable:$promise.timetable.map(function _element(ArrayItem: any) { return {day:$$toJS607543633[ArrayItem.day], week:$$toJS668809359[ArrayItem.week], time:ArrayItem.time, subject:ArrayItem.subject, type_:ArrayItem.type_, teacher:ArrayItem.teacher, groups:ArrayItem.groups, place:ArrayItem.place, building:ArrayItem.building, room:ArrayItem.room, sync:ArrayItem.sync}}), target:$promise.target, type_:$promise.type_, institute:$promise.institute}})\r\n};\r\n","import { FC } from \"react\";\r\nimport { Card, ListGroup } from \"react-bootstrap\";\r\n\r\nimport { TimetableLesson } from \"./TimetableLesson\";\r\nimport { Timetable_t, Day_t, Week_t, Day_toRu } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableDay: FC<{\r\n  day: Day_t;\r\n  week: Week_t;\r\n  timetable: Timetable_t;\r\n  date?: Date;\r\n}> = ({ day, week, timetable, date }) => {\r\n  const lessons = timetable.timetable\r\n    .filter((lesson) => lesson.day === day && lesson.week === week)\r\n    .map((lesson) => (\r\n      <ListGroup.Item\r\n        key={\r\n          lesson.day +\r\n          lesson.week +\r\n          lesson.time +\r\n          lesson.groups +\r\n          lesson.teacher +\r\n          lesson.type_\r\n        }\r\n      >\r\n        <TimetableLesson lesson={lesson} />\r\n      </ListGroup.Item>\r\n    ));\r\n\r\n  const dateString = date\r\n    ? \" \" +\r\n      date.toLocaleString(\"ru-RU\", {\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n      })\r\n    : \"\";\r\n\r\n  return (\r\n    <Card className=\"mb-4\">\r\n      <Card.Header>\r\n        {Day_toRu(day)} {dateString}\r\n      </Card.Header>\r\n      {lessons.length === 0 ? (\r\n        <Card.Body>Нет занятий</Card.Body>\r\n      ) : (\r\n        <ListGroup variant=\"flush\">{lessons}</ListGroup>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n","import { FC, useState } from \"react\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\n\r\nimport { TimetableDay } from \"./TimetableDay\";\r\nimport { Timetable_t, Day_fromNumber, Week_fromDate } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableCarousel: FC<{ timetable: Timetable_t }> = ({\r\n  timetable,\r\n}) => {\r\n  const [index, setIndex] = useState(3);\r\n\r\n  const today = new Date();\r\n  const days = Array.from({ length: 20 }, (x, i) => i)\r\n    .map((elem) => elem - 3)\r\n    .map((daydiff) => {\r\n      let date1 = new Date();\r\n      date1.setDate(today.getDate() + daydiff);\r\n      return date1;\r\n    });\r\n\r\n  const previous = days[index - 1];\r\n  const current = days[index];\r\n  const next = days[index + 1];\r\n\r\n  return (\r\n    <>\r\n      <Row className=\"mb-4\">\r\n        <Col xs={2} sm={1}>\r\n          <Button\r\n            className=\"timetable-carousel-btn\"\r\n            variant=\"light\"\r\n            onClick={() => setIndex(index - 1)}\r\n            disabled={index === 1}\r\n          >\r\n            {\"<\"}\r\n          </Button>\r\n        </Col>\r\n        <Col sm={3} className=\"d-none d-sm-block\">\r\n          <TimetableDay\r\n            day={Day_fromNumber(previous.getDay())}\r\n            week={Week_fromDate(previous)}\r\n            timetable={timetable}\r\n            date={previous}\r\n          />\r\n        </Col>\r\n        <Col xs={8} sm={4}>\r\n          <TimetableDay\r\n            day={Day_fromNumber(current.getDay())}\r\n            week={Week_fromDate(current)}\r\n            timetable={timetable}\r\n            date={current}\r\n          />\r\n        </Col>\r\n        <Col sm={3} className=\"d-none d-sm-block\">\r\n          <TimetableDay\r\n            day={Day_fromNumber(next.getDay())}\r\n            week={Week_fromDate(next)}\r\n            timetable={timetable}\r\n            date={next}\r\n          />\r\n        </Col>\r\n        <Col xs={2} sm={1}>\r\n          <Button\r\n            className=\"timetable-carousel-btn\"\r\n            variant=\"light\"\r\n            onClick={() => setIndex(index + 1)}\r\n            disabled={index === days.length - 2}\r\n          >\r\n            {\">\"}\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport { Alert, Col, Row } from \"react-bootstrap\";\r\n\r\nimport { TimetableDay } from \"./TimetableDay\";\r\nimport { Timetable_t, Day_all } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableColumns: FC<{ timetable: Timetable_t }> = ({\r\n  timetable,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Row>\r\n        <Col>\r\n          <Alert variant=\"secondary\">Нечётная неделя</Alert>\r\n        </Col>\r\n        <Col>\r\n          <Alert variant=\"secondary\">Чётная неделя</Alert>\r\n        </Col>\r\n      </Row>\r\n      {Day_all.map((day) => (\r\n        <Row key={day}>\r\n          <Col xs={6}>\r\n            <TimetableDay\r\n              day={day}\r\n              week={\"Uneven\"}\r\n              timetable={timetable}\r\n            />\r\n          </Col>\r\n          <Col xs={6}>\r\n            <TimetableDay\r\n              day={day}\r\n              week={\"Even\"}\r\n              timetable={timetable}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nexport const QuickTargetChanger: FC<{\r\n  onQuickTargetChange: (check: boolean) => void;\r\n}> = ({ onQuickTargetChange }) => {\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={() => {\r\n          onQuickTargetChange(true);\r\n        }}\r\n      >\r\n        +\r\n      </Button>\r\n      <Button\r\n        onClick={() => {\r\n          onQuickTargetChange(false);\r\n        }}\r\n      >\r\n        -\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","import { FC } from \"react\";\r\nimport { Alert, Spinner } from \"react-bootstrap\";\r\nimport { QuickTargetChanger } from \"./QuickTargetChanger\";\r\nimport { ContainerizedJumbotron } from \"./ContainerizedJumbotron\";\r\nimport { Timetable_t } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableJumbotron: FC<{\r\n  error: Error | null;\r\n  timetable: Timetable_t | null;\r\n  isLoaded: boolean;\r\n  onQuickTargetChange: (target: string, check: boolean) => void;\r\n  target: string;\r\n}> = ({ error, timetable, isLoaded, onQuickTargetChange, target }) => {\r\n  const spinner = (\r\n    <Spinner animation=\"border\" role=\"status\">\r\n      <span className=\"sr-only\">Загрузка...</span>\r\n    </Spinner>\r\n  );\r\n\r\n  const changer = (\r\n    <QuickTargetChanger\r\n      onQuickTargetChange={(check) => onQuickTargetChange(target, check)}\r\n    />\r\n  );\r\n\r\n  if (error) {\r\n    return (\r\n      <ContainerizedJumbotron>\r\n        <h4>\r\n          <Alert variant=\"danger\">Ошибка: {error.message}</Alert>\r\n        </h4>\r\n        {changer}\r\n      </ContainerizedJumbotron>\r\n    );\r\n  } else if (!timetable) {\r\n    return <ContainerizedJumbotron>{spinner}</ContainerizedJumbotron>;\r\n  } else if (timetable.timetable.length === 0) {\r\n    return (\r\n      <ContainerizedJumbotron>\r\n        <h4>\r\n          <Alert variant=\"warning\">{timetable.target} не найдено</Alert>\r\n        </h4>\r\n        {changer}\r\n      </ContainerizedJumbotron>\r\n    );\r\n  } else {\r\n    return (\r\n      <ContainerizedJumbotron>\r\n        {isLoaded ? (\r\n          <>\r\n            <h3>{timetable.target}</h3>\r\n            {changer}\r\n          </>\r\n        ) : (\r\n          spinner\r\n        )}\r\n      </ContainerizedJumbotron>\r\n    );\r\n  }\r\n};\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport { TimetableCarousel } from \"./TimetableCarousel\";\r\nimport { TimetableColumns } from \"./TimetableColumns\";\r\nimport { TimetableJumbotron } from \"./TimetableJumbotron\";\r\nimport { Timetable_fetchExn, Timetable_t } from \"../timetable/Timetable.gen\"\r\n\r\nexport const TimetableTable: FC<{\r\n  target: string;\r\n  onQuickTargetChange: (target: string, check: boolean) => void;\r\n}> = ({ target, onQuickTargetChange }) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [timetable, setTimetable] = useState<Timetable_t | null>(null);\r\n  const [isLoaded, setIsLoaded] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoaded(false);\r\n    Timetable_fetchExn(target).then(\r\n      (result) => {\r\n        setTimetable(result);\r\n        setIsLoaded(true);\r\n        setError(null);\r\n      },\r\n      (error: Error) => {\r\n        console.error(error);\r\n        setError(error);\r\n      });\r\n  }, [target]);\r\n\r\n  return (\r\n    <>\r\n      <TimetableJumbotron\r\n        error={error}\r\n        timetable={timetable}\r\n        isLoaded={isLoaded}\r\n        onQuickTargetChange={onQuickTargetChange}\r\n        target={target}\r\n      />\r\n      {!error && timetable && timetable.timetable.length !== 0 ? (\r\n        <>\r\n          <Container fluid>\r\n            <TimetableCarousel timetable={timetable} />\r\n          </Container>\r\n          <Container>\r\n            <TimetableColumns timetable={timetable} />\r\n          </Container>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { useParams } from \"react-router\";\r\n\r\nimport { TimetableTable } from \"./TimetableTable\";\r\n\r\nexport const TimetablePage: FC<{\r\n  onQuickTargetChange: (target: string, check: boolean) => void;\r\n}> = ({ onQuickTargetChange }) => {\r\n  const { target } = useParams<{ target: string }>();\r\n  return (\r\n    <>\r\n      <TimetableTable\r\n        target={target}\r\n        onQuickTargetChange={onQuickTargetChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nexport const Autocomplete: React.FunctionComponent = () => {\r\n  const [startWith, setStartWith] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      <Form>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            placeholder=\"Enter t\"\r\n            onChange={(qwe) => setStartWith(qwe.target.value)}\r\n          />\r\n          <Form.Text>safs</Form.Text>\r\n        </Form.Group>\r\n      </Form>\r\n      <AutocompleteResult startWith={startWith} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst AutocompleteResult: React.FunctionComponent<{ startWith: string }> = ({\r\n  startWith,\r\n}) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState<string[]>([]);\r\n  const [aut, setAut] = useState<string>(\"1\");\r\n\r\n  useEffect(() => {\r\n    setIsLoaded(false);\r\n    fetch(\r\n      \"https://edu.sfu-kras.ru/timetable/groups/autocomplete/\" +\r\n        encodeURIComponent(startWith),\r\n      {\r\n        headers: { Accept: \"application/json\" },\r\n      }\r\n    )\r\n      .then(async (res) => {\r\n        return res.text();\r\n      })\r\n      .then(\r\n        (result) => {\r\n          setIsLoaded(true);\r\n          console.log(result);\r\n          setAut(result);\r\n        },\r\n        (error) => {\r\n          setIsLoaded(true);\r\n          console.log(error);\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [startWith]);\r\n\r\n  return <div>{aut}</div>;\r\n\r\n  //   if (error) {\r\n  //     return <div>Error: {error.message}</div>;\r\n  //   } else if (!isLoaded) {\r\n  //     return <div>Loading...</div>;\r\n  //   } else {\r\n  //     return <div>{items[0]}</div>;\r\n  //   }\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\n\r\nimport { Home } from \"./Home\";\r\nimport { TimetablePage } from \"./TimetablePage\";\r\nimport { Autocomplete } from \"./Autocomplete\";\r\n\r\nexport const MainSwitch: FC<{\r\n  onQuickTargetChange: (target: string, check: boolean) => void;\r\n}> = ({ onQuickTargetChange }) => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/auto\">\r\n          <Autocomplete />\r\n        </Route>\r\n        <Route path=\"/:target\">\r\n          <TimetablePage onQuickTargetChange={onQuickTargetChange} />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Nav, Navbar } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nimport { TargetForm } from \"./TargetForm\";\r\nimport { Basename } from \"../App\";\r\n\r\nexport const Navigation: FC<{ quickTargets: string[] }> = ({\r\n  quickTargets,\r\n}) => {\r\n  const match = useRouteMatch<{ target: string }>(\"/:target\");\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <LinkContainer to=\"/\">\r\n        <Navbar.Brand>{Basename.slice(1)}</Navbar.Brand>\r\n      </LinkContainer>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav\r\n          activeKey={decodeURIComponent(\r\n            match ? match.params.target : \"\"\r\n          ).toLowerCase()}\r\n          className=\"mr-auto\"\r\n        >\r\n          {quickTargets.map((group: string) => (\r\n            <Nav.Item key={group}>\r\n              <LinkContainer to={\"/\" + encodeURIComponent(group)}>\r\n                <Nav.Link eventKey={group.toLowerCase()}>{group}</Nav.Link>\r\n              </LinkContainer>\r\n            </Nav.Item>\r\n          ))}\r\n        </Nav>\r\n        <TargetForm />\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { HashRouter, BrowserRouter, Redirect } from \"react-router-dom\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport { Basename } from \"../App\";\r\nimport { MainSwitch } from \"./MainSwitch\";\r\nimport { Navigation } from \"./Navigation\";\r\n\r\nexport const Page: FC<{\r\n  quickTargets: string[];\r\n  onQuickTargetChange: (target: string, check: boolean) => void;\r\n}> = ({ quickTargets, onQuickTargetChange }) => {\r\n  return (\r\n    <BrowserRouter basename={Basename}>\r\n      <>\r\n        {/* <Redirect push to={\"/\"} /> */}\r\n        <HashRouter>\r\n          <>\r\n            <Container fluid>\r\n              <Container>\r\n                <Navigation quickTargets={quickTargets} />\r\n              </Container>\r\n              <MainSwitch onQuickTargetChange={onQuickTargetChange} />\r\n            </Container>\r\n          </>\r\n        </HashRouter>\r\n      </>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import { FC, useState } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport { Page } from \"./components/Page\";\r\n\r\nexport const Basename = \"/sfu-timetable-3d50\";\r\n\r\nexport const App: FC = () => {\r\n  const initQuickTargets = (): string[] => {\r\n    let qts = localStorage.getItem(\"quick_targets\");\r\n    if (!qts) {\r\n      localStorage.setItem(\r\n        \"quick_targets\",\r\n        JSON.stringify([\"КИ18-16б (1 подгруппа)\", \"КИ18-17/2б (1 подгруппа)\"])\r\n      );\r\n    }\r\n    return JSON.parse(localStorage.getItem(\"quick_targets\")!);\r\n  };\r\n\r\n  const [quickTargets, setQuickTargets] = useState<string[]>(initQuickTargets);\r\n\r\n  const changeQuickTarget = (target: string, check: boolean) => {\r\n    target = decodeURIComponent(target);\r\n    let qts = localStorage.getItem(\"quick_targets\");\r\n    if (!qts) {\r\n      return;\r\n    }\r\n    let qt: string[] = JSON.parse(qts);\r\n    if (check) {\r\n      if (\r\n        !qt\r\n          .map((t) => t.toLocaleLowerCase())\r\n          .includes(target.toLocaleLowerCase())\r\n      ) {\r\n        qt.push(target);\r\n      }\r\n    } else {\r\n      qt = qt.filter((t) => t !== target);\r\n    }\r\n    localStorage.setItem(\"quick_targets\", JSON.stringify(qt));\r\n    setQuickTargets(qt);\r\n  };\r\n\r\n  return (\r\n    <Page quickTargets={quickTargets} onQuickTargetChange={changeQuickTarget} />\r\n  );\r\n};\r\n","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}