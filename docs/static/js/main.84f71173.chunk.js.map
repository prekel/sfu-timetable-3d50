{"version":3,"sources":["components/Home.tsx","Timetable.ts","components/TimetableLesson.tsx","components/TimetableDay.tsx","components/TimetableWeek.tsx","components/TimetableTable.tsx","components/TimetablePage.tsx","components/Autocomplete.tsx","components/MainSwitch.tsx","components/TargetForm.tsx","components/Page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Home","DayOfWeekFromNumber","day","Error","TimetableLesson","lesson","time","subject","teacher","groups","join","place","TimetableDay","week","timetable","Card","className","Header","parseInt","map","g","charAt","toUpperCase","slice","ListGroup","variant","filter","Item","TimetableWeek","Fragment","toString","TimetableTable","target","useState","error","setError","setTimetable","useEffect","fetch","encodeURIComponent","then","res","json","result","message","Row","Col","TimetablePage","useParams","decodeURIComponent","Autocomplete","startWith","setStartWith","Form","Group","controlId","Control","placeholder","onChange","qwe","value","Text","AutocompleteResult","setIsLoaded","aut","setAut","headers","Accept","a","text","console","log","MainSwitch","path","TargetForm","match","useRouteMatch","params","setTarget","currentTarget","setCurrentTarget","push","to","onSubmit","event","preventDefault","Button","type","Page","basename","Container","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84f71173.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const Home: React.FunctionComponent = () => {\r\n  return (\r\n    <>\r\n      <h3>home1</h3>\r\n    </>\r\n  );\r\n};\r\n","export interface Timetable {\r\n    timetable: Lesson[];\r\n    target: string;\r\n    type: \"teacher\" | \"group\";\r\n}\r\n\r\nexport interface Lesson {\r\n    day: string;\r\n    week: string;\r\n    time: string;\r\n    subject: string;\r\n    type: string;\r\n    place: string;\r\n    teacher: string | null;\r\n    groups: string[] | null\r\n}\r\n\r\nexport type DayOfWeek = \"воскресенье\" | \"понедельник\" | \"вторник\" | \"среда\" | \"четверг\" | \"пятница\" | \"суббота\";\r\n\r\nexport const DayOfWeekFromNumber = (day: number): DayOfWeek => {\r\n    switch (day) {\r\n        case 0: {\r\n            return \"воскресенье\";\r\n        }\r\n        case 1: {\r\n            return \"понедельник\";\r\n        }\r\n        case 2: {\r\n            return \"вторник\";\r\n        }\r\n        case 3: {\r\n            return \"среда\";\r\n        }\r\n        case 4: {\r\n            return \"четверг\";\r\n        }\r\n        case 5: {\r\n            return \"пятница\";\r\n        }\r\n        case 6: {\r\n            return \"суббота\";\r\n        }\r\n        default: {\r\n            throw new Error(\"Несуществующий день\");\r\n        }\r\n    }\r\n}\r\n","import React, { FC } from \"react\";\r\n\r\nimport { Lesson } from \"../Timetable\";\r\n\r\nexport const TimetableLesson: FC<{ lesson: Lesson }> = ({ lesson }) => {\r\n  return (\r\n    <>\r\n      <p>{lesson.time}</p>\r\n      <p>{lesson.subject}</p>\r\n      <p>{lesson.teacher ? lesson.teacher : lesson.groups?.join(\", \")}</p>\r\n      <p>{lesson.place}</p>\r\n    </>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\n\r\nimport { Card, ListGroup } from \"react-bootstrap\";\r\n\r\nimport { Timetable, DayOfWeekFromNumber } from \"../Timetable\";\r\nimport { TimetableLesson } from \"./TimetableLesson\";\r\n\r\nexport const TimetableDay: FC<{\r\n  day: string;\r\n  week: string;\r\n  timetable: Timetable;\r\n}> = ({ day, week, timetable }) => {\r\n  return (\r\n    <Card className=\"mb-4\">\r\n      <Card.Header>\r\n        {\r\n          [DayOfWeekFromNumber(parseInt(day))].map(\r\n            (g) => g.charAt(0).toUpperCase() + g.slice(1)\r\n          )[0]\r\n        }\r\n      </Card.Header>\r\n      <ListGroup variant=\"flush\">\r\n        {timetable.timetable\r\n          .filter((lesson) => lesson.day === day && lesson.week === week)\r\n          .map((lesson) => (\r\n            <ListGroup.Item key={lesson.day + lesson.week + lesson.time}>\r\n              <TimetableLesson lesson={lesson}></TimetableLesson>\r\n            </ListGroup.Item>\r\n          ))}\r\n      </ListGroup>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { Timetable } from \"../Timetable\";\r\n\r\nimport { Col } from \"react-bootstrap\";\r\n\r\nimport { TimetableDay } from \"./TimetableDay\";\r\n\r\nexport const TimetableWeek: FC<{ week: string; timetable: Timetable }> = ({\r\n  week,\r\n  timetable,\r\n}) => {\r\n  return (\r\n    <>\r\n      {[1, 2, 3, 4, 5, 6].map((day) => (\r\n        <React.Fragment key={day}>\r\n          <TimetableDay\r\n            day={day.toString()}\r\n            week={week}\r\n            timetable={timetable}\r\n          ></TimetableDay>\r\n        </React.Fragment>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Col, Row } from \"react-bootstrap\";\r\n\r\nimport { Timetable } from \"../Timetable\";\r\n\r\nimport { TimetableWeek } from \"./TimetableWeek\";\r\n\r\nexport const TimetableTable: React.FunctionComponent<{ target: string }> = ({\r\n  target,\r\n}) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [timetable, setTimetable] = useState<Timetable | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      \"https://edu.sfu-kras.ru/api/timetable/get&target=\" +\r\n        encodeURIComponent(target)\r\n    )\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result: Timetable) => {\r\n          setTimetable(result);\r\n        },\r\n        (error: Error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [target]);\r\n\r\n  if (error) {\r\n    return <div>Error: {error.message}</div>;\r\n  } else if (!timetable) {\r\n    return <div>Loading...</div>;\r\n  } else {\r\n    return (\r\n      <>\r\n        <Row>\r\n          <Col>\r\n            <TimetableWeek week=\"1\" timetable={timetable} />\r\n          </Col>\r\n          <Col>\r\n            <TimetableWeek week=\"2\" timetable={timetable} />\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { TimetableTable } from \"./TimetableTable\";\r\n\r\nexport const TimetablePage: React.FunctionComponent = () => {\r\n  const { target } = useParams<{ target: string }>();\r\n  return (\r\n    <>\r\n      <h3>{decodeURIComponent(target)}</h3>\r\n      <TimetableTable target={target} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nexport const Autocomplete: React.FunctionComponent = () => {\r\n  const [startWith, setStartWith] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      <Form>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            placeholder=\"Enter t\"\r\n            onChange={(qwe) => setStartWith(qwe.target.value)}\r\n          />\r\n          <Form.Text>safs</Form.Text>\r\n        </Form.Group>\r\n      </Form>\r\n      <AutocompleteResult startWith={startWith} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst AutocompleteResult: React.FunctionComponent<{ startWith: string }> = ({\r\n  startWith,\r\n}) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState<string[]>([]);\r\n  const [aut, setAut] = useState<string>(\"1\");\r\n\r\n  useEffect(() => {\r\n    setIsLoaded(false);\r\n    fetch(\r\n      \"https://edu.sfu-kras.ru/timetable/groups/autocomplete/\" +\r\n        encodeURIComponent(startWith),\r\n      {\r\n        headers: { Accept: \"application/json\" },\r\n      }\r\n    )\r\n      .then(async (res) => {\r\n        return res.text();\r\n      })\r\n      .then(\r\n        (result) => {\r\n          setIsLoaded(true);\r\n          console.log(result);\r\n          setAut(result);\r\n        },\r\n        (error) => {\r\n          setIsLoaded(true);\r\n          console.log(error);\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [startWith]);\r\n\r\n  return <div>{aut}</div>;\r\n\r\n  //   if (error) {\r\n  //     return <div>Error: {error.message}</div>;\r\n  //   } else if (!isLoaded) {\r\n  //     return <div>Loading...</div>;\r\n  //   } else {\r\n  //     return <div>{items[0]}</div>;\r\n  //   }\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\n\r\nimport { Home } from \"./Home\";\r\nimport { TimetablePage } from \"./TimetablePage\";\r\nimport { Autocomplete } from \"./Autocomplete\";\r\n\r\nexport const MainSwitch: React.FunctionComponent = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/auto\">\r\n          <Autocomplete></Autocomplete>\r\n        </Route>\r\n        <Route path=\"/:target\">\r\n          <TimetablePage />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Redirect, useRouteMatch } from \"react-router-dom\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\n\r\nexport const TargetForm: React.FunctionComponent = () => {\r\n  const match = useRouteMatch<{ target: string }>(\"/:target\");\r\n  const [target, setTarget] = useState(match ? match?.params.target : \"\");\r\n  const [currentTarget, setCurrentTarget] = useState(target);\r\n\r\n  return (\r\n    <>\r\n      <Redirect push to={\"/\" + encodeURIComponent(currentTarget)} />\r\n      <Form\r\n        onSubmit={(event) => { \r\n          event.preventDefault();\r\n          setCurrentTarget(target);\r\n        }}\r\n      >\r\n        <Form.Group>\r\n          <Form.Control\r\n            placeholder=\"Группа/преподаватель\"\r\n            onChange={(event) => setTarget(event.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button type=\"submit\">Открыть</Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { HashRouter, BrowserRouter, Redirect } from \"react-router-dom\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport { basename } from \"../App\";\r\nimport { MainSwitch } from \"./MainSwitch\";\r\nimport { TargetForm } from \"./TargetForm\";\r\n\r\nexport const Page: React.FunctionComponent = () => {\r\n  return (\r\n    <BrowserRouter basename={basename}>\r\n      <>\r\n        <Redirect to={\"/\"} />\r\n        <HashRouter>\r\n          <>\r\n            <Container>\r\n              <TargetForm />\r\n              <MainSwitch />\r\n            </Container>\r\n          </>\r\n        </HashRouter>\r\n      </>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Page } from \"./components/Page\";\r\n\r\nexport const basename = \"/sfu-timetable-3d50\";\r\n\r\nexport const App: React.FunctionComponent = () => {\r\n  return <Page />;\r\n};\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}