{"version":3,"sources":["components/Home.tsx","components/TimetableTable.tsx","components/TimetablePage.tsx","components/Autocomplete.tsx","components/MainSwitch.tsx","components/TargetForm.tsx","components/Page.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Home","TimetableTable","target","useState","error","setError","timetable","setTimetable","useEffect","fetch","encodeURIComponent","then","res","json","result","message","tgh","type","Table","striped","bordered","hover","map","item","tg","teacher","groups","join","day","week","time","subject","place","TimetablePage","useParams","decodeURIComponent","Autocomplete","startWith","setStartWith","Form","Group","controlId","Control","placeholder","onChange","qwe","value","Text","AutocompleteResult","setIsLoaded","aut","setAut","headers","Accept","a","text","console","log","MainSwitch","path","TargetForm","match","useRouteMatch","params","setTarget","currentTarget","setCurrentTarget","push","to","onSubmit","event","preventDefault","Button","Page","basename","Container","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a931096.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const Home: React.FunctionComponent = () => {\r\n  return (\r\n    <>\r\n      <h3>home1</h3>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Table } from \"react-bootstrap\";\r\n\r\nimport { Timetable } from \"../Timetable\";\r\n\r\nexport const TimetableTable: React.FunctionComponent<{ target: string }> = ({\r\n  target,\r\n}) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [timetable, setTimetable] = useState<Timetable | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      \"https://edu.sfu-kras.ru/api/timetable/get&target=\" +\r\n        encodeURIComponent(target)\r\n    )\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result: Timetable) => {\r\n          setTimetable(result);\r\n        },\r\n        (error: Error) => {\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [target]);\r\n\r\n  if (error) {\r\n    return <div>Error: {error.message}</div>;\r\n  } else if (!timetable) {\r\n    return <div>Loading...</div>;\r\n  } else {\r\n    const tgh = timetable.type === \"group\" ? \"Преподаватель\" : \"Группы\";\r\n    return (\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>День</th>\r\n            <th>Неделя</th>\r\n            <th>Время</th>\r\n            <th>Предмет</th>\r\n            <th>{tgh}</th>\r\n            <th>Тип</th>\r\n            <th>Место</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {timetable?.timetable.map((item) => {\r\n            const tg = item.teacher ? item.teacher : item.groups?.join(\", \");\r\n            return (\r\n              <tr key={item.day + item.week + item.time}>\r\n                <td>{item.day}</td>\r\n                <td>{item.week}</td>\r\n                <td>{item.time}</td>\r\n                <td>{item.subject}</td>\r\n                <td>{tg}</td>\r\n                <td>{item.type}</td>\r\n                <td>{item.place}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { TimetableTable } from \"./TimetableTable\";\r\n\r\nexport const TimetablePage: React.FunctionComponent = () => {\r\n  const { target } = useParams<{ target: string }>();\r\n  return (\r\n    <>\r\n      <h3>{decodeURIComponent(target)}</h3>\r\n      <TimetableTable target={target} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nexport const Autocomplete: React.FunctionComponent = () => {\r\n  const [startWith, setStartWith] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      <Form>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            placeholder=\"Enter t\"\r\n            onChange={(qwe) => setStartWith(qwe.target.value)}\r\n          />\r\n          <Form.Text>safs</Form.Text>\r\n        </Form.Group>\r\n      </Form>\r\n      <AutocompleteResult startWith={startWith} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst AutocompleteResult: React.FunctionComponent<{ startWith: string }> = ({\r\n  startWith,\r\n}) => {\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [items, setItems] = useState<string[]>([]);\r\n  const [aut, setAut] = useState<string>(\"1\");\r\n\r\n  useEffect(() => {\r\n    setIsLoaded(false);\r\n    fetch(\r\n      \"https://edu.sfu-kras.ru/timetable/groups/autocomplete/\" +\r\n        encodeURIComponent(startWith),\r\n      {\r\n        headers: { Accept: \"application/json\" },\r\n      }\r\n    )\r\n      .then(async (res) => {\r\n        return res.text();\r\n      })\r\n      .then(\r\n        (result) => {\r\n          setIsLoaded(true);\r\n          console.log(result);\r\n          setAut(result);\r\n        },\r\n        (error) => {\r\n          setIsLoaded(true);\r\n          console.log(error);\r\n          setError(error);\r\n        }\r\n      );\r\n  }, [startWith]);\r\n\r\n  return <div>{aut}</div>;\r\n\r\n  //   if (error) {\r\n  //     return <div>Error: {error.message}</div>;\r\n  //   } else if (!isLoaded) {\r\n  //     return <div>Loading...</div>;\r\n  //   } else {\r\n  //     return <div>{items[0]}</div>;\r\n  //   }\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router\";\r\n\r\nimport { Home } from \"./Home\";\r\nimport { TimetablePage } from \"./TimetablePage\";\r\nimport { Autocomplete } from \"./Autocomplete\";\r\n\r\nexport const MainSwitch: React.FunctionComponent = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/auto\">\r\n          <Autocomplete></Autocomplete>\r\n        </Route>\r\n        <Route path=\"/:target\">\r\n          <TimetablePage />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Redirect, useRouteMatch } from \"react-router-dom\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\n\r\nexport const TargetForm: React.FunctionComponent = () => {\r\n  const match = useRouteMatch<{ target: string }>(\"/:target\");\r\n  const [target, setTarget] = useState(match ? match?.params.target : \"\");\r\n  const [currentTarget, setCurrentTarget] = useState(target);\r\n\r\n  return (\r\n    <>\r\n      <Redirect push to={\"/\" + encodeURIComponent(currentTarget)} />\r\n      <Form\r\n        onSubmit={(event) => {\r\n          event.preventDefault();\r\n          setCurrentTarget(target);\r\n        }}\r\n      >\r\n        <Form.Group>\r\n          <Form.Control\r\n            placeholder=\"Группа/преподаватель\"\r\n            onChange={(event) => setTarget(event.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button type=\"submit\">Открыть</Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { HashRouter, BrowserRouter, Redirect } from \"react-router-dom\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport { basename } from \"../App\";\r\nimport { MainSwitch } from \"./MainSwitch\";\r\nimport { TargetForm } from \"./TargetForm\";\r\n\r\nexport const Page: React.FunctionComponent = () => {\r\n  return (\r\n    <BrowserRouter basename={basename}>\r\n      <>\r\n        <Redirect to={\"/\"} />\r\n        <HashRouter>\r\n          <>\r\n            <Container>\r\n              <TargetForm />\r\n              <MainSwitch />\r\n            </Container>\r\n          </>\r\n        </HashRouter>\r\n      </>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Page } from \"./components/Page\";\r\n\r\nexport const basename = \"/sfu-timetable-3d50\";\r\n\r\nexport const App: React.FunctionComponent = () => {\r\n  return <Page />;\r\n};\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}